<style>
    .bs-bars {
        width: 100px;
        line-height: 36px;
        background-color: #34c191;
        border-radius: 4px;
    }
    .fixed-table-pagination {
        text-align: center;
    }
     .fixed-table-pagination .active span{
        background-color: #34c191;
        border-color:#34c191;
        color: #fff;
    }
    .fixed-table-pagination a{
        color: #34c191 !important;
    }
    .fixed-table-pagination li {
        width: 36px;
        height: 36px;
        background-color: #ffffff;
        /* border: solid 1px #dddddd; */
    }
</style>
<div class="panel panel-default panel-intro">
    <!-- <div class="panel-heading row" style="padding-top:0;padding-left: 30px;color: #999;font-size: 12px;">
        <div class="lf"><i class="fa fa-home" style="font-size: 14px;"></i></div>
        <div class="panel-lead lf" style="margin-left: 7px;">资讯管理 ></div>
        <div class="panel-lead lf" style="margin-left: 7px; color: #34c191">分类列表</div>
    </div> -->
    <div class="panel-heading row" style="padding-top:0;color: #999;font-size: 12px; line-height: 50px; background-color: transparent">
        <div style="background-color: #e8edf0;width: 100%; height: 50px;padding-left: 15px">
            <div class="lf">
                <i class="fa fa-home" style="font-size: 14px;"></i>
            </div>
            <div class="panel-lead lf" style="margin: 0px;">系统配置&nbsp;&nbsp;&nbsp;> </div>
            <div class="panel-lead lf pl" style="margin: 0px;color: #34c191;">&nbsp;&nbsp;&nbsp;基础设置</div>
        </div>
    </div>
    <div class="panel-body">
        <div id="myTabContent" class="tab-content">
            <div class="tab-pane fade active in" id="one">
                <div class="widget-body no-padding">
                    <div class="bootstrap-table">                       
                        <div class="fixed-table-container" style="padding-bottom: 0px;">
                            <div class="fixed-table-header" style="display: none;">
                                <table></table>
                            </div>
                            <div class="fixed-table-body" style="margin-top:15px">
                                <table id="table" class="table table-striped table-bordered table-hover" data-operate-edit="1" data-operate-del="1" width="100%">
                                    <thead>
                                    <tr style="background-color: #e8f7f2;">
                                        <th class="col-xs-4" style="text-align: center; vertical-align: middle; " data-field="name">
                                            <div class="th-inner ">编号</div>
                                            <div class="fht-cell"></div>
                                        </th>
                                        <th class="col-xs-4" style="text-align: center; vertical-align: middle; " data-field="sort">
                                            <div class="th-inner ">设置名称</div>
                                            <div class="fht-cell"></div>
                                        </th>
                                        <th class="col-xs-4" style="text-align: center; vertical-align: middle; " data-field="operate">
                                            <div class="th-inner ">操作</div>
                                            <div class="fht-cell"></div>
                                        </th>
                                    </tr>
                                    </thead>
                                    <tbody data-listidx="0">
                                    {volist name='list' id='vo'}
                                    <tr class="ac-tr">
                                        <td style="text-align: center; vertical-align: middle; ">
                                        	{$key}
                                        </td>
                                        <td style="text-align: center; vertical-align: middle; ">
                                            强制登录{$device[$key] ?? ''}
                                        </td>
                                        <td style="text-align: center; vertical-align: middle; ">
                                            {if $vo eq 1}
                                            <a class="statusCC btn-change text-success ac-is-stop"  href="javascript:;" data-status="1" data-id="{$key}" title="停用">
                                                <i class="fa fa-toggle-on fa-2x" style="color: #18bc9c;"></i>
                                            </a>
                                            {else}
                                            <a class="statusCC btn-change text-success ac-is-stop" href="javascript:;" data-status="0" data-id="{$key}" title="启用">
                                                <i class="fa fa-toggle-off fa-2x" style="color: #18bc9c;"></i>
                                            </a>
                                            {/if}
                                        </td>
                                    </tr>
                                    {/volist}
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function(){
    	
	  $('.statusCC').click(function () {
	      var formData = {},url,htmlInstance = $(this);
	      formData.ids = $(this).attr('data-id');
	      formData.status = $(this).attr('data-status');
	      url = '<?php echo url("/sysconf/forced_login/edit_status");?>';
	      formData.status = (formData.status == 1) ? 0: 1;
	      $.ajax({
	          type: 'POST',
	          url: url,
	          data: formData,
	          dataType: 'JSON',
	          success: function (result) {
	              //提示层
	              layer.msg(result.msg);
	              if (result.code == 1) {
	                  htmlInstance.attr('data-status', formData.status);
	                  if (formData.status == 1){
	                      htmlInstance.attr('title', "停用");
	                      htmlInstance.children('i').removeClass('fa-toggle-off').addClass('fa-toggle-on');	                      
	                  }else {
	                      htmlInstance.attr('title', "启用");
	                      htmlInstance.children('i').removeClass('fa-toggle-on').addClass('fa-toggle-off');
	                  }
	              }
	          },
	          error: function(msg){
	              //提示层
	              layer.msg('服务器忙，请稍后··');
	          }
	      });
	
	  });
    })
</script>